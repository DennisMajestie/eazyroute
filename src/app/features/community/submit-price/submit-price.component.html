<div class="modal-overlay" (click)="onClose()">
    <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <h3>ğŸ’° Contribute Price</h3>
            <button class="close-btn" (click)="onClose()">Ã—</button>
        </div>

        <div class="modal-body" *ngIf="!success">
            <p class="helper-text">Help others by adding price info for:</p>
            <div class="route-segment-info">
                <span class="stop">{{ fromStopName }}</span>
                <span class="arrow">â†’</span>
                <span class="stop">{{ toStopName }}</span>
            </div>

            <div class="form-group">
                <label>Transport Mode</label>
                <select [(ngModel)]="transportMode">
                    <option value="keke">ğŸ›º Keke</option>
                    <option value="taxi">ğŸš• Taxi</option>
                    <option value="bus">ğŸšŒ Bus</option>
                    <option value="okada">ğŸï¸ Okada</option>
                </select>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Min Price (â‚¦)</label>
                    <input type="number" [(ngModel)]="priceMin" placeholder="100" min="0">
                </div>
                <div class="form-group">
                    <label>Max Price (â‚¦)</label>
                    <input type="number" [(ngModel)]="priceMax" placeholder="150" min="0">
                </div>
            </div>

            <div class="form-group">
                <label>Est. Time (mins)</label>
                <input type="number" [(ngModel)]="estimatedTime" placeholder="10" min="1">
            </div>

            <div class="error-msg" *ngIf="error">{{ error }}</div>
        </div>

        <div class="modal-body success-body" *ngIf="success">
            <div class="success-icon">ğŸ‰</div>
            <h4>Thank You!</h4>
            <p>Your contribution earns you points and helps the community.</p>
        </div>

        <div class="modal-footer" *ngIf="!success">
            <button class="btn btn-secondary" (click)="onClose()">Cancel</button>
            <button class="btn btn-primary" (click)="submit()" [disabled]="isSubmitting || !priceMin">
                {{ isSubmitting ? 'Sending...' : 'Submit' }}
            </button>
        </div>
    </div>
</div>